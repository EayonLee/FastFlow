:root, :host {
  /* 默认 Dark Mode 变量 */
  --bg-app: #050505;
  --bg-panel: rgba(10, 10, 10, 0.95);
  --bg-node: #111111;
  --bg-surface: #1a1a1a;
  
  --border-subtle: rgba(255, 255, 255, 0.08);
  --border-active: rgba(0, 255, 65, 0.5);
  --border-glow: rgba(0, 255, 65, 0.3);
  
  --text-primary: #f0f0f0;
  --text-secondary: #a0a0a0;
  --text-dim: #555555;
  
  --accent-neon: #00ff41;
  --accent-neon-dim: rgba(0, 255, 65, 0.15);
  --accent-neon-hover: rgba(0, 255, 65, 0.25);
  --accent-neon-glow: 0 0 15px rgba(0, 255, 65, 0.4);
  
  --danger: #ff3333;
  --code-block-bg: rgba(255, 255, 255, 0.04);
  --code-block-border: rgba(255, 255, 255, 0.12);
  --code-block-text: #e8edf2;
  --code-token-key: #9cdcfe;
  --code-token-string: #ce9178;
  --code-token-number: #b5cea8;
  --code-token-boolean: #569cd6;
  --code-token-null: #dcdcaa;

  /* Markdown 细节（保证深浅色主题都“看得出来”） */
  --md-inline-code-bg: rgba(255, 255, 255, 0.08);
  --md-inline-code-border: rgba(255, 255, 255, 0.12);
  --md-inline-code-text: var(--text-primary);
  --md-quote-bg: rgba(255, 255, 255, 0.03);
  --md-quote-border: color-mix(in srgb, var(--accent-neon) 35%, var(--border-subtle));
  --ai-bubble-bg: color-mix(in srgb, #0d0d0d 76%, var(--bg-surface));
  --ai-bubble-border: color-mix(in srgb, #242424 46%, var(--border-subtle));
  --ai-bubble-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
  
  /* 布局尺寸 */
  --sidebar-width: 280px;
  --header-height: 56px;
  
  /* 字体 */
  --font-mono: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
  --font-ui: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

  /* Plugin Specific */
  --z-index-max: 2147483647;
  --chat-width: 500px;
  --chat-height: 900px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --radius-sm: 8px;
  
  --transition-smooth: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Light Mode Overrides */
:root[data-theme="light"], :host([data-theme="light"]) {
  --bg-app: #f9f9f9; /* 稍微带一点灰的背景，避免纯白刺眼 */
  --bg-panel: rgba(255, 255, 255, 0.98); /* 面板更白更实 */
  --bg-node: #ffffff;
  --bg-surface: #ffffff; /* 聊天气泡和输入框背景设为纯白 */
  
  --border-subtle: rgba(0, 0, 0, 0.08);
  /* 亮色主题下也统一使用“霓绿”作为交互高亮 */
  --border-active: rgba(0, 255, 65, 0.55); 
  --border-glow: rgba(0, 255, 65, 0.25);
  
  --text-primary: #1f2937; /* 深灰而非纯黑 */
  --text-secondary: #6b7280;
  --text-dim: #9ca3af;
  
  /* 关键：全局交互描边/选中态必须是霓绿（与暗色一致） */
  --accent-neon: #00ff41;
  --accent-neon-dim: rgba(0, 255, 65, 0.12);
  --accent-neon-hover: rgba(0, 255, 65, 0.18);
  --accent-neon-glow: 0 0 15px rgba(0, 255, 65, 0.28);
  
  --danger: #ef4444;
  --code-block-bg: #f3f6f9;
  --code-block-border: rgba(15, 23, 42, 0.12);
  --code-block-text: #0f172a;
  --code-token-key: #0f4c81;
  --code-token-string: #8b2c2c;
  --code-token-number: #7c3aed;
  --code-token-boolean: #b45309;
  --code-token-null: #6b7280;

  /* Markdown 细节（亮色主题下默认 rgba(255,...) 太淡） */
  --md-inline-code-bg: rgba(15, 23, 42, 0.06);
  --md-inline-code-border: rgba(15, 23, 42, 0.14);
  --md-inline-code-text: var(--text-primary);
  --md-quote-bg: rgba(15, 23, 42, 0.04);
  --md-quote-border: color-mix(in srgb, var(--accent-neon) 35%, var(--border-subtle));
  --ai-bubble-bg: #f2f2f2;
  --ai-bubble-border: color-mix(in srgb, #d6d6d6 55%, var(--border-subtle));
  --ai-bubble-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}
